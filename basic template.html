<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title></title>

    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">

    <!-- Optional theme -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap-theme.min.css" integrity="sha384-fLW2N01lMqjakBkx3l/M9EahuwpSfeNvV63J5ezn3uZzapT0u7EYsXMjQV+0En5r" crossorigin="anonymous">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css">

    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.4.0/Chart.bundle.min.js"></script>
    <script src='https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.4.0/Chart.min.js'></script>
    <script src="https://code.jquery.com/jquery-2.2.4.min.js" integrity="sha256-BbhdlvQf/xTY9gja0Dq3HiwQF8LaCRTXxZKRutelT44=" crossorigin="anonymous"></script>
    <!-- Latest compiled and minified JavaScript -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js" integrity="sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS" crossorigin="anonymous"></script>


    <!--[if lt IE 9]>
      <script src="https://cdn.jsdelivr.net/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://cdn.jsdelivr.net/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
</head>

<body>
    <div class='container'>
        <div class="row">
            <div class='col-md-12'>
                <img src="/Users/visethsen/Downloads/CodeAcademy-gh-pages/9697team.jpg" alt="Bulls Team Lineup" class='img-responsive'>
            </div>
        </div>

        <div class="row">
            <div class='col-md-12'>
                <h1 class='text-center'>The Champion 1996 Chicago Bulls</h1>
            </div>
        </div>

        <div class="row">
            <div class='col-md-4'>
                <h3 class='text-center'>Summary</h3>
            </div>

            <div class='col-md-4'>
                <h3 class='text-center'>Comparisons Between Best & Worst Team</h3>
            </div>

            <div class='col-md-4'>
                <h3 class='text-center'>Highlights</h3>
            </div>
        </div>

        <div class="row">
            <div class='col-md-12'>
                <div class='center-block' id="container" style="width: 75%;">
                    <canvas id="canvas"></canvas>
                </div>
                <br>
                <div class='row'>
                    <div class='col-md-offset-1 col-md-2'>
                        <button class='btn btn-primary' type='button' id="randomizeData">Randomize Data</button>
                    </div>
                    <div class='col-md-2'>
                        <button class='btn btn-primary' type='button' id="addDataset">Add Dataset</button>
                    </div>
                    <div class='col-md-2'>
                        <button class='btn btn-primary' type='button' id="removeDataset">Remove Dataset</button>
                    </div>
                    <div class='col-md-2'>
                        <button class='btn btn-primary' type='button' id="addData">Add Data</button>
                    </div>
                    <div class='col-md-2'>
                        <button class='btn btn-primary' type='button' id="removeData">Remove Data</button>
                    </div>
                </div>
                <script>
                    window.chartColors = {
                        red: 'rgb(255, 99, 132)',
                        orange: 'rgb(255, 159, 64)',
                        yellow: 'rgb(255, 205, 86)',
                        green: 'rgb(75, 192, 192)',
                        blue: 'rgb(54, 162, 235)',
                        purple: 'rgb(153, 102, 255)',
                        grey: 'rgb(231,233,237)'
                    };

                    window.randomScalingFactor = function() {
                        return (Math.random() > 0.5 ? 1.0 : -1.0) * Math.round(Math.random() * 100);
                    }
                    var MONTHS = ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"];
                    var color = Chart.helpers.color;
                    var barChartData = {
                        labels: ["January", "February", "March", "April", "May", "June", "July"],
                        datasets: [{
                            label: 'Dataset 1',
                            backgroundColor: color(window.chartColors.red).alpha(0.5).rgbString(),
                            borderColor: window.chartColors.red,
                            borderWidth: 1,
                            data: [
                                randomScalingFactor(),
                                randomScalingFactor(),
                                randomScalingFactor(),
                                randomScalingFactor(),
                                randomScalingFactor(),
                                randomScalingFactor(),
                                randomScalingFactor()
                            ]
                        }, {
                            label: 'Dataset 2',
                            backgroundColor: color(window.chartColors.blue).alpha(0.5).rgbString(),
                            borderColor: window.chartColors.blue,
                            borderWidth: 1,
                            data: [
                                randomScalingFactor(),
                                randomScalingFactor(),
                                randomScalingFactor(),
                                randomScalingFactor(),
                                randomScalingFactor(),
                                randomScalingFactor(),
                                randomScalingFactor()
                            ]
                        }]
                    };
                    window.onload = function() {
                        var ctx = document.getElementById("canvas").getContext("2d");
                        window.myBar = new Chart(ctx, {
                            type: 'bar',
                            data: barChartData,
                            options: {
                                responsive: true,
                                legend: {
                                    position: 'top',
                                },
                                title: {
                                    display: true,
                                    text: 'Chart.js Bar Chart'
                                }
                            }
                        });
                    };
                    document.getElementById('randomizeData').addEventListener('click', function() {
                        var zero = Math.random() < 0.2 ? true : false;
                        barChartData.datasets.forEach(function(dataset) {
                            dataset.data = dataset.data.map(function() {
                                return zero ? 0.0 : randomScalingFactor();
                            });
                        });
                        window.myBar.update();
                    });
                    var colorNames = Object.keys(window.chartColors);
                    document.getElementById('addDataset').addEventListener('click', function() {
                        var colorName = colorNames[barChartData.datasets.length % colorNames.length];;
                        var dsColor = window.chartColors[colorName];
                        var newDataset = {
                            label: 'Dataset ' + barChartData.datasets.length,
                            backgroundColor: color(dsColor).alpha(0.5).rgbString(),
                            borderColor: dsColor,
                            borderWidth: 1,
                            data: []
                        };
                        for (var index = 0; index < barChartData.labels.length; ++index) {
                            newDataset.data.push(randomScalingFactor());
                        }
                        barChartData.datasets.push(newDataset);
                        window.myBar.update();
                    });
                    document.getElementById('addData').addEventListener('click', function() {
                        if (barChartData.datasets.length > 0) {
                            var month = MONTHS[barChartData.labels.length % MONTHS.length];
                            barChartData.labels.push(month);
                            for (var index = 0; index < barChartData.datasets.length; ++index) {
                                //window.myBar.addData(randomScalingFactor(), index);
                                barChartData.datasets[index].data.push(randomScalingFactor());
                            }
                            window.myBar.update();
                        }
                    });
                    document.getElementById('removeDataset').addEventListener('click', function() {
                        barChartData.datasets.splice(0, 1);
                        window.myBar.update();
                    });
                    document.getElementById('removeData').addEventListener('click', function() {
                        barChartData.labels.splice(-1, 1); // remove the label first
                        barChartData.datasets.forEach(function(dataset, datasetIndex) {
                            dataset.data.pop();
                        });
                        window.myBar.update();
                    });
                </script>
            </div>
        </div>

    </div>
    </div>



</body>

</html>
